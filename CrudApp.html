<html>
    <head>
        <title>CRUD APP</title>
        <script src = "https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.1.0.js" 
                type = "text/javascript"></script>
    </head>
    <body>
        <h4>CRUD Operations using Knockout</h4>
        <div>
            <table>
                <thead>
                    <tr>
                        <th>EmpID</th>
                        <th>Name</th>
                        <th>DOB</th>
                        <th>DOJ</th>
                        <th>Address</th>
                    </tr>
                </thead>
                <tbody data-bind="foreach: Employee">
                    <tr>
                        <td data-bind="text: EmpID"></td>
                        <td data-bind="text: Name"></td>
                        <td data-bind="text: DOB"></td>
                        <td data-bind="text: DOJ"></td>
                        <td data-bind="text: Address"></td>
                        <td ><button data-bind="click: $root.edit">Edit</button>
                            <button data-bind="click: $root.Delete">Delete</button></td>
                        <!-- <td  ><button data-bind="click: Delete">Delete</button></td> -->
                    </tr>
                </tbody>
            </table>

            <form>
                <p>EmpID: <input data-bind="value: $root.empId" /></p> 
                <p>Name: <input data-bind="value: $root.name" /></p> 
                <p>DOB: <input data-bind="value: $root.dob" /></p> 
                <p>DOJ: <input data-bind="value: $root.doj" /></p> 
                <p>Address: <input data-bind="value: $root.address" /></p> 
                <button data-bind="click: $root.Submit">Add</button>
                <button data-bind="click: $root.Reset">Reset</button>
        </div>

        <script>
            var Employee = ko.observableArray([
                {EmpID:1, Name:'Mohit', DOB:'06 Jul 2000', DOJ:'18 Jul 2022', Address:'Rewari'},
                {EmpID:2, Name:'Rohit', DOB:'16 May 1999', DOJ:'18 Jul 2022', Address:'Gaziabad'},
                {EmpID:3, Name:'Suman', DOB:'26 Jan 2000', DOJ:'18 Jul 2022', Address:'Noida'},
                {EmpID:4, Name:'Rahul', DOB:'09 Sep 1998', DOJ:'18 Jul 2022', Address:'Delhi'},
                {EmpID:5, Name:'Mansi', DOB:'16 Nov 2000', DOJ:'18 Jul 2022', Address:'Aligarh'}
            ]);
            function viewModel()  {
                this.empId = ko.observable("");
                this.name = ko.observable("");
                this.dob = ko.observable("");
                this.doj = ko.observable("");
                this.address = ko.observable("");
   
                var details = {
                    EmpID: this.empId,
                    Name: this.name,
                    DOB: this.dob,
                    DOJ: this.doj,
                    Address: this.address
                };

   
                this.details = ko.observable();
                
                this.Submit = function(){
                   var data = details;
                   Employee.push(data);
                console.log(data);
                }

                this.Reset = function(){
                    this.empId("");
                this.name("");
                this.dob("");
                this.doj("");
                this.address("");
                }



                this.Update = function(details){
                    console.log(details);
                    
                    console.log("updating....")
                }

                this.Delete = function(details){
                Employee.remove(details);
                }



                this.edit = function (details) {
                    this.details = ko.observable(details);
                }

                

            };

            ko.applyBindings(new viewModel());
        </script>
    </body>
</html>